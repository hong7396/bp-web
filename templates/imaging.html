<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Physics Menu Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;500;400&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f7faf9;
    }
    .custom-scroll::-webkit-scrollbar {
      width: 8px;
      background: #e5e7eb;
    }
    .custom-scroll::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 4px;
    }
  </style>
</head>
<body class="min-h-screen bg-[#f7faf9]">
  <nav class="w-full border-b border-gray-300 bg-white">
    <div class="max-w-7xl mx-auto flex items-center h-14 px-6">
      <div class="flex space-x-8">
        <a href="https://11f1-211-208-7-84.ngrok-free.app/heat" target="_blank" class="text-gray-900 font-medium text-lg px-2 py-1 hover:text-white hover:bg-blue-500 rounded transition">ì—´ì „ë‹¬</a>
        <a href="https://11f1-211-208-7-84.ngrok-free.app/optics" target="_blank" class="text-gray-900 font-medium text-lg px-2 py-1 hover:text-white hover:bg-blue-500 rounded transition">ê´‘í•™</a>
        <a href="https://11f1-211-208-7-84.ngrok-free.app/imaging" target="_blank" class="text-gray-900 font-medium text-lg px-2 py-1 hover:text-white hover:bg-blue-500 rounded transition">ì˜ìƒí•™</a>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto mt-6 border border-gray-400 rounded-lg bg-white shadow-sm overflow-hidden">
    <div class="flex h-[70vh] min-h-[500px]">
      <aside class="w-64 bg-gray-100 border-r border-gray-200 flex flex-col items-center py-8 px-4 custom-scroll overflow-y-auto">
        <h2 class="text-2xl font-bold text-blue-600 mb-6">Menu</h2>
        <div class="flex flex-col w-full space-y-3"> 
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="fourier">Fourier Transform</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="transfer">Transfer function</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="fwhm">FWHM</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="noise">NoisePDF</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="nyquist">Nyquist</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="inverse">Inverse Square Law</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="effective">Effective Dose</button>
          <button class="menu-button w-full py-2 rounded bg-gray-200 text-gray-800 font-medium text-base shadow-sm border border-gray-300 hover:bg-blue-100 transition" data-id="attenuation">attenuation</button>
        </div>
      </aside>

      <section id="content-area" class="flex-1 bg-gray-50 p-10 flex items-center justify-center">
        <div class="text-gray-400 text-xl font-medium">ë©”ë‰´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>
      </section>
    </div>
  </main>

  <script>
    const calculators = {
      fourier: `
        <section class='bg-purple-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
          <div class='text-center mb-3'>
          <div class='text-lg font-semibold text-gray-700 mb-1'>ì…ë ¥ í•¨ìˆ˜: AÂ·cos(2Ï€Â·fÂ·t + Ï•)</div>
              <h2 class='text-xl font-bold text-purple-800'>Fourier Transform ê³„ì‚°ê¸°</h2>
          </div>
          <img src="/static/images/imaging/fourier.png" alt="Critical Angle Diagram" class="mb-3 rounded shadow-md w-full max-w-xs">
         <input id='fourier_amp' type='number' step='any' placeholder='ì§„í­ A' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-purple-400'>
         <input id='fourier_freq' type='number' step='any' placeholder='ì£¼íŒŒìˆ˜ f (Hz)' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-purple-400'>
            <input id='fourier_phase' type='number' step='any' placeholder='ìœ„ìƒ Ï• (ë„)' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-purple-400'>
         <button onclick='calcFourier()' class='bg-purple-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-purple-700 transition'>ê³„ì‚°í•˜ê¸°</button>
         <div id='fourier-result' class='mt-3 text-base font-medium text-gray-800'></div>
        </section>
     `,
      transfer:  `
         <section class='bg-yellow-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
         <div class='text-center mb-3'>
           <div class='text-lg font-semibold text-gray-700 mb-1'>H(f) = 1 / âˆš(1 + (f/f_c)Â²)</div>
           <h2 class='text-xl font-bold text-yellow-800'>Transfer Function ê³„ì‚°ê¸°</h2>
         </div>
          <img src="/static/images/imaging/transfer_function.png" alt="Transfer Function" class="mb-3 rounded shadow-md w-full max-w-xs">
          <input id='freq_f' type='number' step='any' placeholder='f (Hz)' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-yellow-400'>
         <input id='cutoff_fc' type='number' step='any' placeholder='f_c (Hz, ì»·ì˜¤í”„)' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-yellow-400'>
          <button onclick='calcTransfer()' class='bg-yellow-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-yellow-700 transition'>ê³„ì‚°í•˜ê¸°</button>
          <div id='transfer-result' class='mt-3 text-base font-medium text-gray-800'></div>
         </section>
        `,
      fwhm: `
  <section class='bg-yellow-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
    <div class='text-center mb-3'>
      <div class='text-lg font-semibold text-gray-700 mb-1'>FWHM = 2Â·âˆš(2Â·ln2)Â·Ïƒ â‰ˆ 2.355Â·Ïƒ</div>
      <h2 class='text-xl font-bold text-yellow-800'>FWHM ê³„ì‚°ê¸°</h2>
    </div>
    <img src="/static/images/imaging/fwhm.png" alt="FWHM" class="mb-3 rounded shadow-md w-full max-w-xs">
    <input id='fwhm_sigma' type='number' step='any' placeholder='í‘œì¤€í¸ì°¨ Ïƒ ì…ë ¥' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-yellow-400'>
    <button onclick='calcFWHM()' class='bg-yellow-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-yellow-700 transition'>ê³„ì‚°í•˜ê¸°</button>
    <div id='fwhm-result' class='mt-3 text-base font-medium text-gray-800'></div>
  </section>
`,

      noise: `
  <section class='bg-purple-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
    <div class='text-center mb-3'>
      <div class='text-sm font-semibold text-gray-700 mb-1'>f(x) = (1 / âˆš(2Ï€ÏƒÂ²)) Â· exp(- (x - Î¼)Â² / 2ÏƒÂ²)</div>
      <h2 class='text-xl font-bold text-purple-800'>ê°€ìš°ì‹œì•ˆ Noise í™•ë¥ ë°€ë„ í•¨ìˆ˜ ê³„ì‚°ê¸°</h2>
    </div>
    <input id='noise_mu' type='number' step='any' placeholder='í‰ê·  Î¼ ì…ë ¥' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-purple-400'>
    <input id='noise_sigma' type='number' step='any' placeholder='í‘œì¤€í¸ì°¨ Ïƒ ì…ë ¥' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-purple-400'>
    <input id='noise_x' type='number' step='any' placeholder='x ì…ë ¥' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-purple-400'>
    <button onclick='calcNoisePDF()' class='bg-purple-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-purple-700 transition'>ê³„ì‚°í•˜ê¸°</button>
    <div id='noise-result' class='mt-3 text-base font-medium text-gray-800'></div>
  </section>
`,

      nyquist: `
  <section class='bg-blue-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
    <div class='text-center mb-3'>
      <div class='text-lg font-semibold text-gray-700 mb-1'>f<sub>s</sub> â‰¥ 2Â·f<sub>max</sub></div>
      <h2 class='text-xl font-bold text-blue-800'>ë‚˜ì´í€´ìŠ¤íŠ¸ ìƒ˜í”Œë§ ê³„ì‚°ê¸°</h2>
    </div>
    <img src="/static/images/imaging/nyquist.png" alt="Nyquist Sample" class="mb-3 rounded shadow-md w-full max-w-xs">
    <input id='nyquist_fmax' type='number' step='any' placeholder='ìµœëŒ€ ì£¼íŒŒìˆ˜ fâ‚˜ ì…ë ¥ (Hz)' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-400'>
    <button onclick='calcNyquist()' class='bg-blue-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-blue-700 transition'>ê³„ì‚°í•˜ê¸°</button>
    <div id='nyquist-result' class='mt-3 text-base font-medium text-gray-800'></div>
  </section>
`,

      inverse: `
  <section class='bg-blue-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
    <div class='text-center mb-3'>
      <div class='text-lg font-semibold text-gray-700 mb-1'>I âˆ 1 / dÂ²</div>
      <h2 class='text-xl font-bold text-blue-800'>Inverse Square Law ê³„ì‚°ê¸°</h2>
    </div>
    <img src="/static/images/imaging/inverse.png" alt="Inverse Square Law" class="mb-3 rounded shadow-md w-full max-w-xs">
    <input id='I0' type='number' step='any' placeholder='Iâ‚€ (ê¸°ì¤€ ì„¸ê¸°)' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-400'>
    <input id='d0' type='number' step='any' placeholder='dâ‚€ (ê¸°ì¤€ ê±°ë¦¬)' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-400'>
    <input id='d' type='number' step='any' placeholder='d (ëª©í‘œ ê±°ë¦¬)' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-blue-400'>
    <button onclick='calcInverseSquare()' class='bg-blue-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-blue-700 transition'>ê³„ì‚°í•˜ê¸°</button>
    <div id='inverse-result' class='mt-3 text-base font-medium text-gray-800'></div>
  </section>
`,
      effective: `
  <section class='bg-green-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
    <div class='text-center mb-3'>
      <div class='text-lg font-semibold text-gray-700 mb-1'>E = âˆ‘(W<sub>T</sub> Â· H<sub>T</sub>)</div>
      <h2 class='text-xl font-bold text-green-800'>Effective Dose ê³„ì‚°ê¸°</h2>
    </div>
    <img src="/static/images/imaging/effective.png" alt="Effective Dose Diagram" class="mb-3 rounded shadow-md w-full max-w-xs">
    <input id='w' type='number' step='any' placeholder='ì¡°ì§ ê°€ì¤‘ì¹˜ Wâ‚œ' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-400'>
    <input id='h' type='number' step='any' placeholder='ë“±ê°€ì„ ëŸ‰ Hâ‚œ (mSv)' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-400'>
    <button onclick='calcEffectiveDose()' class='bg-green-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-green-700 transition'>ê³„ì‚°í•˜ê¸°</button>
    <div id='effective-result' class='mt-3 text-base font-medium text-gray-800'></div>
  </section>
`,
      attenuation: `
  <section class='bg-yellow-50 p-6 flex flex-col items-center justify-start rounded-lg shadow-md max-w-sm w-full'>
    <div class='text-center mb-3'>
      <div class='text-lg font-semibold text-gray-700 mb-1'>I = Iâ‚€ Â· e^(âˆ’Î¼x)</div>
      <h2 class='text-xl font-bold text-yellow-800'>X-ray ê°ì‡  ë²•ì¹™ ê³„ì‚°ê¸°</h2>
    </div>
    <img src="/static/images/imaging/attenuation.png" alt="Attenuation Diagram" class="mb-3 rounded shadow-md w-full max-w-xs">
    <input id='I0_att' type='number' step='any' placeholder='ì´ˆê¸° ê°•ë„ Iâ‚€' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-yellow-400'>
    <input id='mu' type='number' step='any' placeholder='ì„ í˜• ê°ì‡  ê³„ìˆ˜ Î¼ (1/cm)' class='mb-2 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-yellow-400'>
    <input id='x' type='number' step='any' placeholder='ë‘ê»˜ x (cm)' class='mb-3 w-full px-3 py-1.5 border rounded text-sm focus:ring-2 focus:ring-yellow-400'>
    <button onclick='calcAttenuation()' class='bg-yellow-600 text-white px-5 py-1.5 rounded text-sm font-semibold hover:bg-yellow-700 transition'>ê³„ì‚°í•˜ê¸°</button>
    <div id='attenuation-result' class='mt-3 text-base font-medium text-gray-800'></div>
  </section>
`
    };

    document.querySelectorAll(".menu-button").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-id");
        const content = calculators[id] || "<div>ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.</div>";
        document.getElementById("content-area").innerHTML = content;
      });
    });

    function calcFourier() {
          const A = parseFloat(document.getElementById("fourier_amp").value);
         const f = parseFloat(document.getElementById("fourier_freq").value);
        const phiDeg = parseFloat(document.getElementById("fourier_phase").value);
        const resultArea = document.getElementById("fourier-result");

        try {
          if (isNaN(A) || isNaN(f) || isNaN(phiDeg)) throw "ëª¨ë“  ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.";
          const phiRad = phiDeg * (Math.PI / 180);

          const real = (A / 2).toFixed(4);
          const imag = (A / 2 * Math.sin(phiRad)).toFixed(4);
          const re = (A / 2 * Math.cos(phiRad)).toFixed(4);
          const im = (A / 2 * Math.sin(phiRad)).toFixed(4);

          resultArea.innerHTML = `
            <div>ğŸ“Œ ê²°ê³¼ (ì£¼íŒŒìˆ˜ ì˜ì—­)</div>
            <div class="mt-2">Î´(f - ${f}) ì„±ë¶„: <strong>${re} + j${im}</strong></div>
            <div class="mt-1">Î´(f + ${f}) ì„±ë¶„: <strong>${re} - j${im}</strong></div>
          `;
        } catch (e) {
          resultArea.innerHTML = `âŒ ì˜¤ë¥˜: ${e}`;
        }
    }
    function calcTransfer() {
         const f = parseFloat(document.getElementById("freq_f").value);
         const fc = parseFloat(document.getElementById("cutoff_fc").value);
         let result = '';

         try {
           if (isNaN(f) || isNaN(fc) || fc <= 0) throw "ëª¨ë“  ê°’ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”.";
           const gain = 1 / Math.sqrt(1 + Math.pow(f / fc, 2));
           result = `|H(f)| = ${gain.toFixed(4)} (Gain)`;
          } catch (e) {
            result = `âŒ ì˜¤ë¥˜: ${e}`;
          }
          document.getElementById("transfer-result").innerText = result;
    }
    function calcFWHM() {
  const sigma = parseFloat(document.getElementById("fwhm_sigma").value);
  let result = '';
  try {
    if (isNaN(sigma) || sigma <= 0) throw "ÏƒëŠ” ì–‘ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.";
    const fwhm = 2.35482 * sigma;
    result = `ê³„ì‚°ëœ FWHM: ${fwhm.toFixed(4)}`;
  } catch (e) {
    result = `âŒ ì˜¤ë¥˜: ${e}`;
  }
  document.getElementById("fwhm-result").innerText = result;
}
function calcNoisePDF() {
  const mu = parseFloat(document.getElementById("noise_mu").value);
  const sigma = parseFloat(document.getElementById("noise_sigma").value);
  const x = parseFloat(document.getElementById("noise_x").value);
  let result = '';
  try {
    if (isNaN(mu) || isNaN(sigma) || isNaN(x)) throw "ëª¨ë“  ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.";
    if (sigma <= 0) throw "ÏƒëŠ” ì–‘ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.";
    const coeff = 1 / (Math.sqrt(2 * Math.PI) * sigma);
    const exponent = -Math.pow(x - mu, 2) / (2 * sigma * sigma);
    const fx = coeff * Math.exp(exponent);
    result = `f(x) = ${fx.toExponential(5)}`;
  } catch (e) {
    result = `âŒ ì˜¤ë¥˜: ${e}`;
  }
  document.getElementById("noise-result").innerText = result;
}
function calcNyquist() {
  const fmax = parseFloat(document.getElementById("nyquist_fmax").value);
  let result = '';
  try {
    if (isNaN(fmax) || fmax <= 0) throw "fâ‚˜ì€ ì–‘ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.";
    const fs = 2 * fmax;
    result = `ìƒ˜í”Œë§ ì£¼íŒŒìˆ˜ fâ‚› â‰¥ ${fs.toFixed(2)} Hz`;
  } catch (e) {
    result = `âŒ ì˜¤ë¥˜: ${e}`;
  }
  document.getElementById("nyquist-result").innerText = result;
}
function calcInverseSquare() {
  const I0 = parseFloat(document.getElementById("I0").value);
  const d0 = parseFloat(document.getElementById("d0").value);
  const d = parseFloat(document.getElementById("d").value);
  let result = '';
  try {
    if (isNaN(I0) || isNaN(d0) || isNaN(d)) throw "ê°’ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.";
    const I = I0 * (d0 ** 2) / (d ** 2);
    result = `ê³„ì‚°ëœ ì„¸ê¸° I: ${I.toFixed(4)}`;
  } catch (e) {
    result = `âŒ ì˜¤ë¥˜: ${e}`;
  }
  document.getElementById("inverse-result").innerText = result;
}
function calcEffectiveDose() {
  const w = parseFloat(document.getElementById("w").value);
  const h = parseFloat(document.getElementById("h").value);
  let result = '';
  try {
    if (isNaN(w) || isNaN(h)) throw "ê°’ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.";
    const e = w * h;
    result = `ìœ íš¨ì„ ëŸ‰ E: ${e.toFixed(4)} mSv`;
  } catch (e) {
    result = `âŒ ì˜¤ë¥˜: ${e}`;
  }
  document.getElementById("effective-result").innerText = result;
}
function calcAttenuation() {
  const I0 = parseFloat(document.getElementById("I0_att").value);
  const mu = parseFloat(document.getElementById("mu").value);
  const x = parseFloat(document.getElementById("x").value);
  let result = '';
  try {
    if (isNaN(I0) || isNaN(mu) || isNaN(x)) throw "ê°’ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.";
    const I = I0 * Math.exp(-mu * x);
    result = `ê³„ì‚°ëœ ê°•ë„ I: ${I.toFixed(4)}`;
  } catch (e) {
    result = `âŒ ì˜¤ë¥˜: ${e}`;
  }
  document.getElementById("attenuation-result").innerText = result;
}
  </script>
</body>
</html>